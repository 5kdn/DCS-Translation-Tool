<Window x:Class="DcsTranslationTool.Presentation.Wpf.Shell.ShellView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:resx="clr-namespace:DcsTranslationTool.Resources;assembly=DcsTranslationTool.Resources"
        xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
        xmlns:cal="http://www.caliburnproject.org"
        mc:Ignorable="d"
        Width="{Binding ShellWidth, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
        Height="{Binding ShellHeight, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
        d:Height="450" d:Width="800">

    <WindowChrome.WindowChrome>
        <WindowChrome
            CaptionHeight="30"
            ResizeBorderThickness="8"
            GlassFrameThickness="0"
            CornerRadius="0"
            UseAeroCaptionButtons="False" />
    </WindowChrome.WindowChrome>

    <md:DialogHost Identifier="RootDialogHost">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <!-- Titlebar -->
            <Grid Height="30" Background="{StaticResource MaterialDesign.Brush.Primary}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <!-- Left -->
                <StackPanel HorizontalAlignment="Left" Orientation="Horizontal" WindowChrome.IsHitTestVisibleInChrome="True" >
                    <Button Content="{md:PackIcon Kind=ArrowLeft}"
                            Style="{StaticResource NavigationButtonStyle}"
                            IsEnabled="{Binding CanGoBack}"
                            cal:Message.Attach="GoBack()" />
                    <Button Content="{md:PackIcon Kind=ArrowRight}"
                            Style="{StaticResource NavigationButtonStyle}"
                            IsEnabled="{Binding CanGoForward}"
                            cal:Message.Attach="GoForward()" />
                </StackPanel>

                <!-- Center -->
                <Grid Grid.Column="1" Margin="{StaticResource MediumXMargin}">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    <TextBlock Text="{x:Static resx:Strings_Shared.AppDisplayName}"
                               Grid.Row="1"
                               Style="{StaticResource MaterialDesignTitleMediumTextBlock}"
                               Foreground="{StaticResource MaterialDesign.Brush.Background}" />
                </Grid>

                <!-- Right -->
                <StackPanel Grid.Column="2" Grid.Row="2" Orientation="Horizontal" WindowChrome.IsHitTestVisibleInChrome="True" >
                    <Button Content="{md:PackIcon Kind=Git}"
                                ToolTip="ブラウザで翻訳リポジトリーを開く"
                                cal:Message.Attach="BrowseTranslationRepository()" />

                    <Button Content="{md:PackIcon Kind=Cog}"
                                ToolTip="{x:Static resx:Strings_Settings.Title}"
                                cal:Message.Attach="NavToSettings()" />
                
                    <Button Content="{md:PackIcon Kind=Close}"
                            Style="{StaticResource CloseButtonStyle}"
                            Click="CloseWindowButton_Click" />
                </StackPanel>
            </Grid>

            <!-- Contents -->
            <Frame x:Name="RootFrame"
                   Grid.Row="1"
                   Margin="{StaticResource MediumMargin}"
                   NavigationUIVisibility="Hidden"
                   Focusable="False" />

            <!-- Snackbar -->
            <md:Snackbar Grid.RowSpan="2"
                         MessageQueue="{Binding MessageQueue}"
                         Style="{DynamicResource SnackbarStyle}" />
        </Grid>
    </md:DialogHost>
</Window>
